{"version":3,"file":"helpers-DDQDsabU.js","sources":["../../src/js/products-api.js","../../src/js/refs.js","../../src/js/render-functions.js","../../src/js/storage.js","../../src/js/helpers.js"],"sourcesContent":["// Функції для роботи з бекендом\r\nimport axios from 'axios';\r\n\r\naxios.defaults.baseURL = \"https://dummyjson.com\";\r\n\r\nexport async function fetchCategories() {\r\n  const { data } = await axios.get(\"/products/category-list\");\r\n  return [\"All\", ...data];\r\n}\r\n\r\n\r\nexport async function fetchProducts(page = 1, limit = 12) {\r\n  const skip = (page - 1) * limit;\r\n  const { data } = await axios.get(`/products?limit=${limit}&skip=${skip}`);\r\n  return data.products;\r\n}\r\n\r\n\r\nexport async function fetchProductsByCategory(category, page = 1, limit = 12) {\r\n  if (category === \"All\") {\r\n    return fetchProducts(page, limit);\r\n  }\r\n  const skip = (page - 1) * limit;\r\n  const { data } = await axios.get(`/products/category/${category}?limit=${limit}&skip=${skip}`);\r\n  return data.products;\r\n}\r\n\r\n\r\nexport async function fetchProductsById(id) {\r\n  const { data } = await axios.get(`/products/${id}`);\r\n  return data;\r\n}\r\n\r\n\r\nexport async function searchProducts(query, page = 1, limit = 12) {\r\n  if (!query.trim()) return [];\r\n  const skip = (page - 1) * limit;\r\n  const { data } = await axios.get(`/products/search?q=${query}&limit=${limit}&skip=${skip}`);\r\n  return data.products;\r\n}\r\n\r\n\r\nexport async function fetchTotalProductsCount() {\r\n  const { data } = await axios.get(`/products?limit=1`);\r\n  return data.total;\r\n}","\r\nexport const refs = {\r\n  categoriesList: document.querySelector('ul.categories'),\r\n  categoryButtons: () => document.querySelectorAll('button.categories__btn'),\r\n\r\n  productsList: document.querySelector('ul.products'),\r\n  notFoundDiv: document.querySelector('.not-found'),\r\n\r\n  searchForm: document.querySelector('.search-form'),\r\n\r\n  modal: document.querySelector('.modal'),\r\n  modalProduct: document.querySelector('.modal-product'),\r\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\r\n  wishButton: document.querySelector('.modal-product__btn--wishlist'),\r\n  cartButton: document.querySelector('.modal-product__btn--cart'),\r\n\r\n  navCount: document.querySelector('[data-wishlist-count]'),\r\n  navCountCart: document.querySelector('[data-cart-count]'),\r\n\r\n  cartCount: document.querySelector('[data-count]'),\r\n  cartPrice: document.querySelector('[data-price]'),\r\n  cartSummaryButton: document.querySelector('.cart-summary__btn'),\r\n\r\n  loader: document.querySelector('.loader'),\r\n  themeToggle: document.querySelector('.theme-toggle'),\r\n  minusButton: document.querySelector('.minus-button'),\r\n  plusButton: document.querySelector('.plus-button'),\r\n  quantityInput: document.querySelector('.quantity-input'),\r\n\r\n  paginationContainer: document.querySelector('.tui-pagination'),\r\n};","\r\n// render-functions.js\r\nimport { refs } from \"./refs.js\";\r\n\r\nexport function renderCategories(categories) {\r\n  const markup = categories\r\n    .map(cat => `\r\n      <li class=\"categories__item\">\r\n        <button class=\"categories__btn\" type=\"button\">${cat}</button>\r\n      </li>\r\n    `)\r\n    .join(\"\");\r\n\r\n  refs.categoriesList.innerHTML = markup;\r\n}\r\n\r\nexport function renderProducts(products) {\r\n  const markup = products\r\n    .map(({ id, title, thumbnail, brand, category, price, quantity }) => `\r\n      <li class=\"products__item\" data-id=\"${id}\">\r\n        <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\" />\r\n        <p class=\"products__title\">${title}</p>\r\n        <p class=\"products__brand\">\r\n          <span class=\"products__brand--bold\">Brand:</span> ${brand}\r\n        </p>\r\n        <p class=\"products__category\">Category: ${category}</p>\r\n        <p class=\"products__price\">Price: $${price}</p>\r\n        <div class=\"product\" data-id=\"${id}\">\r\n          <div class=\"product-quantity ${quantity ? '' : 'hidden'}\">\r\n             <button class=\"minus-button quantity-button\">-</button>\r\n             <input type=\"number\" value=\"${quantity || 1}\" min=\"1\" max=\"100\" class=\"quantity-input\" readonly>\r\n             <button class=\"plus-button quantity-button\">+</button>\r\n            </div>\r\n        </div>\r\n      </li>\r\n    `)\r\n    .join(\"\");\r\n\r\n  refs.productsList.innerHTML = markup;\r\n}\r\n\r\nexport function showNotFound() {\r\n  refs.notFoundDiv.classList.add('not-found--visible');\r\n}\r\n\r\nexport function hideNotFound() {\r\n  refs.notFoundDiv.classList.remove('not-found--visible');\r\n}\r\n\r\nexport function renderProductInModal(product) {\r\n  const { title, description, price, thumbnail, tags = [] } = product;\r\n  const tagsMarkup = tags.map(tag => `<li>#${tag}</li>`).join('');\r\n\r\n  refs.modalProduct.innerHTML = `\r\n    <img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\r\n    <div class=\"modal-product__content\">\r\n      <p class=\"modal-product__title\">${title}</p>\r\n      <ul class=\"modal-product__tags\">${tagsMarkup}</ul>\r\n      <p class=\"modal-product__description\">${description}</p>\r\n      <p class=\"modal-product__shipping-information\">Shipping: Free worldwide</p>\r\n      <p class=\"modal-product__return-policy\">Return Policy: 30 days</p>\r\n      <p class=\"modal-product__price\">Price: $${price}</p>\r\n      <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\r\n    </div>\r\n  `;\r\n}\r\n\r\n// Обробка кнопок +/- в модальному вікні\r\nrefs.modal?.addEventListener(\"click\", (event) => {\r\n  const isMinus = event.target.classList.contains(\"minus-button\");\r\n  const isPlus = event.target.classList.contains(\"plus-button\");\r\n\r\n  if (!isMinus && !isPlus) return;\r\n\r\n  const quantityInput = event.target\r\n    .closest(\".product-quantity\")\r\n    ?.querySelector(\".quantity-input\");\r\n\r\n  if (!quantityInput) return;\r\n\r\n  let value = parseInt(quantityInput.value);\r\n\r\n  if (isMinus && value > 1) {\r\n    quantityInput.value = value - 1;\r\n  }\r\n  if (isPlus && value < 100) {\r\n    quantityInput.value = value + 1;\r\n  }\r\n});","// storage.js\r\n\r\n// Функція для відправки кастомної події\r\nconst dispatchStorageEvent = (eventName) => {\r\n  window.dispatchEvent(new Event(eventName));\r\n};\r\n\r\n// ==================== WISHLIST ====================\r\n\r\nexport const getWishlist = () => {\r\n  const wishlist = localStorage.getItem('wishlist');\r\n  return wishlist ? JSON.parse(wishlist) : [];\r\n};\r\n\r\nexport const addToWishlist = (productId) => {\r\n  const wishlist = getWishlist();\r\n  const id = Number(productId);\r\n\r\n  if (!wishlist.includes(id)) {\r\n    wishlist.push(id);\r\n    localStorage.setItem('wishlist', JSON.stringify(wishlist));\r\n    dispatchStorageEvent('wishlistUpdated');\r\n    console.log('Added to wishlist:', id);\r\n  }\r\n};\r\n\r\nexport const removeFromWishlist = (productId) => {\r\n  const wishlist = getWishlist();\r\n  const id = Number(productId);\r\n  const filtered = wishlist.filter(item => item !== id);\r\n\r\n  localStorage.setItem('wishlist', JSON.stringify(filtered));\r\n  dispatchStorageEvent('wishlistUpdated');\r\n  console.log('Removed from wishlist:', id);\r\n};\r\n\r\nexport const isInWishlist = (productId) => {\r\n  const wishlist = getWishlist();\r\n  const id = Number(productId);\r\n  return wishlist.includes(id);\r\n};\r\n\r\n// ==================== CART ====================\r\n\r\nexport const getCart = () => {\r\n  const cart = localStorage.getItem('cart');\r\n  return cart ? JSON.parse(cart) : [];\r\n};\r\n\r\nexport const addToCart = (productId, quantity = 1) => {\r\n  const cart = getCart();\r\n  const id = Number(productId);\r\n\r\n  const existingItem = cart.find(item => item.id === id);\r\n\r\n  if (existingItem) {\r\n    existingItem.quantity += quantity;\r\n  } else {\r\n    cart.push({ id, quantity });\r\n  }\r\n\r\n  localStorage.setItem('cart', JSON.stringify(cart));\r\n  dispatchStorageEvent('cartUpdated');\r\n  console.log('Added to cart:', id, 'quantity:', quantity);\r\n};\r\n\r\nexport const removeFromCart = (productId) => {\r\n  const cart = getCart();\r\n  const id = Number(productId);\r\n  const filtered = cart.filter(item => item.id !== id);\r\n\r\n  localStorage.setItem('cart', JSON.stringify(filtered));\r\n  dispatchStorageEvent('cartUpdated');\r\n  console.log('Removed from cart:', id);\r\n};\r\n\r\nexport const isInCart = (productId) => {\r\n  const cart = getCart();\r\n  const id = Number(productId);\r\n  return cart.some(item => item.id === id);\r\n};\r\n\r\nexport const updateCartQuantity = (productId, quantity) => {\r\n  const cart = getCart();\r\n  const id = Number(productId);\r\n  const item = cart.find(item => item.id === id);\r\n\r\n  if (item) {\r\n    item.quantity = quantity;\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n    dispatchStorageEvent('cartUpdated');\r\n    console.log('Updated cart quantity:', id, 'quantity:', quantity);\r\n  }\r\n};\r\n\r\nexport const updateCartItem = (productId, quantity) => {\r\n  const cart = getCart();\r\n  const id = Number(productId);\r\n  const item = cart.find(item => item.id === id);\r\n\r\n  if (item) {\r\n    item.quantity = quantity;\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n    dispatchStorageEvent('cartUpdated');\r\n    console.log('Updated cart item:', id, 'quantity:', quantity);\r\n  }\r\n};\r\n\r\nexport const saveCart = (cart) => {\r\n  localStorage.setItem('cart', JSON.stringify(cart));\r\n  dispatchStorageEvent('cartUpdated');\r\n  console.log('Cart saved');\r\n};\r\n\r\nexport const clearCart = () => {\r\n  localStorage.setItem('cart', JSON.stringify([]));\r\n  dispatchStorageEvent('cartUpdated');\r\n  console.log('Cart cleared');\r\n};\r\n","// helpers.js\r\nimport { refs } from './refs.js';\r\nimport { fetchProducts, fetchProductsByCategory } from './products-api.js';\r\nimport { renderProducts } from './render-functions.js';\r\nimport iziToast from 'izitoast';\r\nimport Pagination from \"tui-pagination\";\r\nimport 'tui-pagination/dist/tui-pagination.css';\r\n\r\nlet currentPage = 1;\r\nconst limit = 12;\r\nlet currentCategory = \"All\";\r\nlet pagination = null;\r\n\r\nexport const resetPagination = (newCategory = \"All\") => {\r\n  currentPage = 1;\r\n  currentCategory = newCategory;\r\n  refs.productsList.innerHTML = '';\r\n  if (pagination) pagination.reset();\r\n};\r\n\r\nexport const initPagination = (totalItems) => {\r\n  if (pagination) {\r\n    pagination.destroy();\r\n    pagination = null;\r\n  }\r\n\r\n  pagination = new Pagination('pagination', {\r\n    totalItems: totalItems,\r\n    itemsPerPage: limit,\r\n    visiblePages: 5,\r\n    centerAlign: true,\r\n  });\r\n\r\n  pagination.on('afterMove', async (event) => {\r\n    const page = event.page;\r\n    await loadProductsByPage(page);\r\n  });\r\n};\r\n\r\nexport const loadProductsByPage = async (page) => {\r\n  refs.loader.style.display = 'block';\r\n\r\n  try {\r\n    let products;\r\n    if (currentCategory === \"All\") {\r\n      products = await fetchProducts(page, limit);\r\n    } else {\r\n      products = await fetchProductsByCategory(currentCategory, page, limit);\r\n    }\r\n\r\n    if (products.length === 0) {\r\n      iziToast.info({\r\n        title: 'Info',\r\n        message: 'No products found.',\r\n        position: 'topRight'\r\n      });\r\n      refs.productsList.innerHTML = '';\r\n    } else {\r\n      renderProducts(products);\r\n    }\r\n  } catch (error) {\r\n    console.error('Error loading products:', error);\r\n  } finally {\r\n    refs.loader.style.display = 'none';\r\n  }\r\n};\r\n\r\n\r\n\r\nexport function changeTheme() {\r\n  const themeToggle = refs.themeToggle;\r\n\r\n  if (!themeToggle) {\r\n    console.warn('Theme toggle button not found');\r\n    return;\r\n  }\r\n\r\n  const savedTheme = localStorage.getItem('theme') || 'light';\r\n  document.body.classList.add(`${savedTheme}-theme`);\r\n\r\n  themeToggle.addEventListener('click', () => {\r\n    if (document.body.classList.contains('light-theme')) {\r\n      document.body.classList.replace('light-theme', 'dark-theme');\r\n      localStorage.setItem('theme', 'dark');\r\n    } else {\r\n      document.body.classList.replace('dark-theme', 'light-theme');\r\n      localStorage.setItem('theme', 'light');\r\n    }\r\n  });\r\n}\r\n\r\n\r\n"],"names":["axios","fetchCategories","data","fetchProducts","page","limit","skip","fetchProductsByCategory","category","fetchProductsById","id","searchProducts","query","fetchTotalProductsCount","refs","renderCategories","categories","markup","cat","renderProducts","products","title","thumbnail","brand","price","quantity","renderProductInModal","product","description","tags","tagsMarkup","tag","_a","event","isMinus","isPlus","quantityInput","value","dispatchStorageEvent","eventName","getWishlist","wishlist","addToWishlist","productId","removeFromWishlist","filtered","item","isInWishlist","getCart","cart","addToCart","existingItem","removeFromCart","isInCart","updateCartItem","clearCart","currentCategory","pagination","resetPagination","newCategory","initPagination","totalItems","Pagination","loadProductsByPage","iziToast","error","changeTheme","themeToggle","savedTheme"],"mappings":"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"}