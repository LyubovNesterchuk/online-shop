import{a as l,P as _,i as S}from"./vendor-Br9p5nBn.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();l.defaults.baseURL="https://dummyjson.com";async function P(){const{data:t}=await l.get("/products/category-list");return["All",...t]}async function b(t=1,e=12){const o=(t-1)*e,{data:r}=await l.get(`/products?limit=${e}&skip=${o}`);return r.products}async function q(t,e=1,o=12){if(t==="All")return b(e,o);const r=(e-1)*o,{data:s}=await l.get(`/products/category/${t}?limit=${o}&skip=${r}`);return s.products}async function L(t){const{data:e}=await l.get(`/products/${t}`);return e}async function I(t,e=1,o=12){if(!t.trim())return[];const r=(e-1)*o,{data:s}=await l.get(`/products/search?q=${t}&limit=${o}&skip=${r}`);return s.products}async function C(){const{data:t}=await l.get("/products?limit=1");return t.total}const c={categoriesList:document.querySelector("ul.categories"),categoryButtons:()=>document.querySelectorAll("button.categories__btn"),productsList:document.querySelector("ul.products"),notFoundDiv:document.querySelector(".not-found"),searchForm:document.querySelector(".search-form"),modal:document.querySelector(".modal"),modalProduct:document.querySelector(".modal-product"),modalCloseBtn:document.querySelector(".modal__close-btn"),wishButton:document.querySelector(".modal-product__btn--wishlist"),cartButton:document.querySelector(".modal-product__btn--cart"),navCount:document.querySelector("[data-wishlist-count]"),navCountCart:document.querySelector("[data-cart-count]"),cartCount:document.querySelector("[data-count]"),cartPrice:document.querySelector("[data-price]"),cartSummaryButton:document.querySelector(".cart-summary__btn"),loader:document.querySelector(".loader"),themeToggle:document.querySelector(".theme-toggle"),minusButton:document.querySelector(".minus-button"),plusButton:document.querySelector(".plus-button"),quantityInput:document.querySelector(".quantity-input"),paginationContainer:document.querySelector(".tui-pagination")};function N(t){const e=t.map(o=>`
      <li class="categories__item">
        <button class="categories__btn" type="button">${o}</button>
      </li>
    `).join("");c.categoriesList.innerHTML=e}function w(t){const e=t.map(({id:o,title:r,thumbnail:s,brand:n,category:a,price:m,quantity:f})=>`
      <li class="products__item" data-id="${o}">
        <img class="products__image" src="${s}" alt="${r}" />
        <p class="products__title">${r}</p>
        <p class="products__brand">
          <span class="products__brand--bold">Brand:</span> ${n}
        </p>
        <p class="products__category">Category: ${a}</p>
        <p class="products__price">Price: $${m}</p>
        <div class="product" data-id="${o}">
          <div class="product-quantity ${f?"":"hidden"}">
             <button class="minus-button quantity-button">-</button>
             <input type="number" value="${f||1}" min="1" max="100" class="quantity-input" readonly>
             <button class="plus-button quantity-button">+</button>
            </div>
        </div>
      </li>
    `).join("");c.productsList.innerHTML=e}function T(t){const{title:e,description:o,price:r,thumbnail:s,tags:n=[]}=t,a=n.map(m=>`<li>#${m}</li>`).join("");c.modalProduct.innerHTML=`
    <img class="modal-product__img" src="${s}" alt="${e}" />
    <div class="modal-product__content">
      <p class="modal-product__title">${e}</p>
      <ul class="modal-product__tags">${a}</ul>
      <p class="modal-product__description">${o}</p>
      <p class="modal-product__shipping-information">Shipping: Free worldwide</p>
      <p class="modal-product__return-policy">Return Policy: 30 days</p>
      <p class="modal-product__price">Price: $${r}</p>
      <button class="modal-product__buy-btn" type="button">Buy</button>
    </div>
  `}var h;(h=c.modal)==null||h.addEventListener("click",t=>{var n;const e=t.target.classList.contains("minus-button"),o=t.target.classList.contains("plus-button");if(!e&&!o)return;const r=(n=t.target.closest(".product-quantity"))==null?void 0:n.querySelector(".quantity-input");if(!r)return;let s=parseInt(r.value);e&&s>1&&(r.value=s-1),o&&s<100&&(r.value=s+1)});const u=t=>{window.dispatchEvent(new Event(t))},y=()=>{const t=localStorage.getItem("wishlist");return t?JSON.parse(t):[]},O=t=>{const e=y(),o=Number(t);e.includes(o)||(e.push(o),localStorage.setItem("wishlist",JSON.stringify(e)),u("wishlistUpdated"),console.log("Added to wishlist:",o))},B=t=>{const e=y(),o=Number(t),r=e.filter(s=>s!==o);localStorage.setItem("wishlist",JSON.stringify(r)),u("wishlistUpdated"),console.log("Removed from wishlist:",o)},k=t=>{const e=y(),o=Number(t);return e.includes(o)},d=()=>{const t=localStorage.getItem("cart");return t?JSON.parse(t):[]},A=(t,e=1)=>{const o=d(),r=Number(t),s=o.find(n=>n.id===r);s?s.quantity+=e:o.push({id:r,quantity:e}),localStorage.setItem("cart",JSON.stringify(o)),u("cartUpdated"),console.log("Added to cart:",r,"quantity:",e)},M=t=>{const e=d(),o=Number(t),r=e.filter(s=>s.id!==o);localStorage.setItem("cart",JSON.stringify(r)),u("cartUpdated"),console.log("Removed from cart:",o)},J=t=>{const e=d(),o=Number(t);return e.some(r=>r.id===o)},U=(t,e)=>{const o=d(),r=Number(t),s=o.find(n=>n.id===r);s&&(s.quantity=e,localStorage.setItem("cart",JSON.stringify(o)),u("cartUpdated"),console.log("Updated cart item:",r,"quantity:",e))},E=()=>{localStorage.setItem("cart",JSON.stringify([])),u("cartUpdated"),console.log("Cart cleared")},p=12;let g="All",i=null;const F=(t="All")=>{g=t,c.productsList.innerHTML="",i&&i.reset()},j=t=>{i&&(i.destroy(),i=null),i=new _("pagination",{totalItems:t,itemsPerPage:p,visiblePages:5,centerAlign:!0}),i.on("afterMove",async e=>{const o=e.page;await $(o)})},$=async t=>{c.loader.style.display="block";try{let e;g==="All"?e=await b(t,p):e=await q(g,t,p),e.length===0?(S.info({title:"Info",message:"No products found.",position:"topRight"}),c.productsList.innerHTML=""):w(e)}catch(e){console.error("Error loading products:",e)}finally{c.loader.style.display="none"}};function H(){const t=c.themeToggle;if(!t){console.warn("Theme toggle button not found");return}const e=localStorage.getItem("theme")||"light";document.body.classList.add(`${e}-theme`),t.addEventListener("click",()=>{document.body.classList.contains("light-theme")?(document.body.classList.replace("light-theme","dark-theme"),localStorage.setItem("theme","dark")):(document.body.classList.replace("dark-theme","light-theme"),localStorage.setItem("theme","light"))})}export{B as a,O as b,J as c,M as d,A as e,L as f,y as g,d as h,k as i,w as j,H as k,c as l,P as m,N as n,b as o,C as p,j as q,T as r,F as s,q as t,I as u,E as v,U as w};
//# sourceMappingURL=helpers-DDQDsabU.js.map
