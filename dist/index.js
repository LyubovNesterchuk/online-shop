import{l as t,k as w,m as F,n as D,o as d,j as r,p as E,q as k,s as I,t as P,f as _,r as T,i as g,a as S,b as W,c as L,d as x,e as M,u as q,g as H,h as A}from"./assets/helpers-DDQDsabU.js";import"./assets/vendor-Br9p5nBn.js";let C=1;const s=12,B=()=>{const e=H();t.navCount&&(t.navCount.textContent=e.length)},b=()=>{const n=A().reduce((a,o)=>a+o.quantity,0);t.navCountCart&&(t.navCountCart.textContent=n)},c=e=>{t.wishButton&&(t.wishButton.textContent=g(e)?"Remove from Wishlist":"Add to Wishlist")},u=e=>{t.cartButton&&(t.cartButton.textContent=L(e)?"Remove from Cart":"Add to Cart")};document.addEventListener("DOMContentLoaded",async()=>{t.loader&&(t.loader.style.display="block");try{w();const e=await F();D(e);const n=await d(C,s);r(n),B(),b();const a=await E();k(a)}catch(e){console.error("Error loading data:",e)}finally{t.loader&&(t.loader.style.display="none")}});var f;(f=t.categoriesList)==null||f.addEventListener("click",async e=>{const n=e.target.closest("button.categories__btn");if(!n)return;t.loader&&(t.loader.style.display="block");const a=n.textContent.trim();I(a),t.categoryButtons().forEach(o=>o.classList.remove("categories__btn--active")),n.classList.add("categories__btn--active"),t.searchInput&&(t.searchInput.value=""),t.clearSearchBtn&&t.clearSearchBtn.classList.add("hidden"),t.notFoundDiv&&t.notFoundDiv.classList.remove("not-found--visible");try{let o;a==="All"?o=await d(1,s):o=await P(a,1,s),o.length===0?(t.notFoundDiv&&t.notFoundDiv.classList.add("not-found--visible"),t.productsList.innerHTML="",t.paginationContainer&&(t.paginationContainer.style.display="none")):(t.notFoundDiv&&t.notFoundDiv.classList.remove("not-found--visible"),r(o),t.paginationContainer&&(t.paginationContainer.style.display="flex"))}catch(o){console.error("Error loading category:",o)}finally{t.loader&&(t.loader.style.display="none")}});var v;(v=t.productsList)==null||v.addEventListener("click",async e=>{const a=e.target.closest("li.products__item");if(!a)return;const o=Number(a.dataset.id);if(o){t.loader&&(t.loader.style.display="block");try{const l=await _(o);T(l),t.modal&&t.modal.classList.add("modal--is-open"),c(o),u(o),t.wishButton&&(t.wishButton.onclick=()=>{g(o)?S(o):W(o),c(o),B()}),t.cartButton&&(t.cartButton.onclick=()=>{L(o)?x(o):M(o),u(o),b()})}catch(l){console.error("Error loading product:",l)}finally{t.loader&&(t.loader.style.display="none")}}});var p;(p=t.modal)==null||p.addEventListener("click",e=>{(e.target===t.modal||e.target.classList.contains("modal__close-btn"))&&t.modal.classList.remove("modal--is-open")});var h;(h=t.searchForm)==null||h.addEventListener("submit",async e=>{var a;e.preventDefault();const n=(a=t.searchInput)==null?void 0:a.value.trim();if(n){t.loader&&(t.loader.style.display="block");try{const o=await q(n,C,s);o.length===0?(t.notFoundDiv&&t.notFoundDiv.classList.add("not-found--visible"),t.productsList.innerHTML="",t.loadButton&&(t.loadButton.style.display="none")):(t.notFoundDiv&&t.notFoundDiv.classList.remove("not-found--visible"),r(o))}catch(o){console.error("Error searching products:",o),t.notFoundDiv&&t.notFoundDiv.classList.add("not-found--visible"),t.productsList.innerHTML=""}finally{t.loader&&(t.loader.style.display="none")}}});var y;(y=t.searchInput)==null||y.addEventListener("input",()=>{t.clearSearchBtn&&t.clearSearchBtn.classList.toggle("hidden",t.searchInput.value.trim()==="")});var m;(m=t.clearSearchBtn)==null||m.addEventListener("click",async()=>{t.searchInput&&(t.searchInput.value=""),t.clearSearchBtn&&t.clearSearchBtn.classList.add("hidden"),t.notFoundDiv&&t.notFoundDiv.classList.remove("not-found--visible"),t.loader&&(t.loader.style.display="block");try{const e=await d(1,s);r(e),t.loadButton&&(t.loadButton.style.display="block")}catch(e){console.error("Error loading all products:",e),t.productsList.innerHTML="",t.notFoundDiv&&t.notFoundDiv.classList.add("not-found--visible")}finally{t.loader&&(t.loader.style.display="none")}});const i=document.querySelector(".scroll-up");i&&(window.addEventListener("scroll",()=>{window.scrollY>250?i.classList.remove("hidden"):i.classList.add("hidden")}),i.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));
//# sourceMappingURL=index.js.map
